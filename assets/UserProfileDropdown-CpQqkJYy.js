const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BdeZtJMb.js","assets/VerticalMenuContent-qgw8E_T2.js","assets/index-DmENW6B2.js","assets/index-BAh1lyIo.css","assets/index-IEdz60AJ.js","assets/index-CugqLUv5.js","assets/CloseButton-DKk2w9LK.js","assets/floating-ui.dom-CV1Qg3mg.js"])))=>i.map(i=>d[i]);
import{r as l,x as V,y as J,z as Q,j as a,B as X,C as Z,g as ee,d as L,H as te,w as F,_ as se,u as ne,f as ae,h as U,e as re,b as oe,E as ie,a as ce}from"./index-DmENW6B2.js";import{P as le,x as ue,y as de,z as fe,B as he,C as me,E as pe,G as ge,D as P,A as D,H as xe,I as je}from"./index-CugqLUv5.js";import{b as ye,c as Ne}from"./CloseButton-DKk2w9LK.js";const we=(...e)=>{console!=null&&console.warn&&(y(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},z={},S=(...e)=>{y(e[0])&&z[e[0]]||(y(e[0])&&(z[e[0]]=new Date),we(...e))},B=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},H=(e,t,n)=>{e.loadNamespaces(t,B(e,n))},W=(e,t,n,r)=>{y(n)&&(n=[n]),n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,B(e,r))},be=(e,t,n={})=>!t.languages||!t.languages.length?(S("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,o)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,e))return!1}}),y=e=>typeof e=="string",ve=e=>typeof e=="object"&&e!==null,Ie=l.createContext();class Ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Pe=(e,t)=>{const n=l.useRef();return l.useEffect(()=>{n.current=e},[e,t]),n.current},q=(e,t,n,r)=>e.getFixedT(t,n,r),Me=(e,t,n,r)=>l.useCallback(q(e,t,n,r),[e,t,n,r]),Oe=(e,t={})=>{var T,A,_,k;const{i18n:n}=t,{i18n:r,defaultNS:o}=l.useContext(Ie)||{},s=n||r||J();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Ee),!s){S("You will need to pass in an i18next instance by using initReactI18next");const d=(m,p)=>y(p)?p:ve(p)&&y(p.defaultValue)?p.defaultValue:Array.isArray(m)?m[m.length-1]:m,h=[d,{},!1];return h.t=d,h.i18n={},h.ready=!1,h}(T=s.options.react)!=null&&T.wait&&S("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...V(),...s.options.react,...t},{useSuspense:g,keyPrefix:u}=i;let c=o||((A=s.options)==null?void 0:A.defaultNS);c=y(c)?[c]:c||["translation"],(k=(_=s.reportNamespaces).addUsedNamespaces)==null||k.call(_,c);const f=(s.isInitialized||s.initializedStoreOnce)&&c.every(d=>be(d,s,i)),b=Me(s,t.lng||null,i.nsMode==="fallback"?c:c[0],u),x=()=>b,M=()=>q(s,t.lng||null,i.nsMode==="fallback"?c:c[0],u),[C,v]=l.useState(x);let I=c.join();t.lng&&(I=`${t.lng}${I}`);const R=Pe(I),j=l.useRef(!0);l.useEffect(()=>{const{bindI18n:d,bindI18nStore:h}=i;j.current=!0,!f&&!g&&(t.lng?W(s,t.lng,c,()=>{j.current&&v(M)}):H(s,c,()=>{j.current&&v(M)})),f&&R&&R!==I&&j.current&&v(M);const m=()=>{j.current&&v(M)};return d&&(s==null||s.on(d,m)),h&&(s==null||s.store.on(h,m)),()=>{j.current=!1,s&&(d==null||d.split(" ").forEach(p=>s.off(p,m))),h&&s&&h.split(" ").forEach(p=>s.store.off(p,m))}},[s,I]),l.useEffect(()=>{j.current&&f&&v(x)},[s,u,f]);const E=[C,s,f];if(E.t=C,E.i18n=s,E.ready=f,f||!f&&!g)return E;throw new Promise(d=>{t.lng?W(s,t.lng,c,()=>d()):H(s,c,()=>d())})},qe=e=>{const{userAuthority:t=[],authority:n=[],children:r}=e,o=Q(t,n);return a.jsx(a.Fragment,{children:o?r:null})},$e={home:a.jsx(le,{}),singleMenu:a.jsx(ue,{}),collapseMenu:a.jsx(de,{}),groupSingleMenu:a.jsx(fe,{}),groupCollapseMenu:a.jsx(he,{}),groupMenu:a.jsx(me,{})},Ge="title",Se="collapse",Ce="item";var O,K;function Re(){if(K)return O;K=1;var e=X(),t=pe(),n=Z(),r="[object Object]",o=Function.prototype,s=Object.prototype,i=o.toString,g=s.hasOwnProperty,u=i.call(Object);function c(f){if(!n(f)||e(f)!=r)return!1;var b=t(f);if(b===null)return!0;var x=g.call(b,"constructor")&&b.constructor;return typeof x=="function"&&x instanceof x&&i.call(x)==u}return O=c,O}var Te=Re();const Ae=ee(Te),$=(e,t)=>{var o;if(!Array.isArray(e)&&e.key===t)return e;let n,r=!1;for(const s in e)if(s!=="icon"&&e.hasOwnProperty(s)&&typeof e[s]=="object"&&(Ae(e[s])&&((o=e[s].subMenu)==null?void 0:o.length)>0&&e[s].subMenu.some(i=>i.key===t)&&(r=!0),n=$(e[s],t),n))return r&&(n.parentKey=e[s].key),n;return n},G=(e,t)=>e.find(r=>r.key===t)?!0:e.some(r=>G(r.subMenu,t)),_e=(e,t)=>{let n={};return e.forEach(r=>{G([r],t)&&(n=r)}),n};function Ye(e,t){const n=l.useMemo(()=>$(e,t),[e,t]),r=l.useMemo(()=>_e(e,t),[e,t]);return{activedRoute:n,includedRouteTree:r}}const Ve=e=>{const t=(o,s)=>typeof s=="string"?s:"",n=()=>({t,ready:!0,i18n:""}),r=Oe();return e?n():r},ke=[{key:"taskItems",path:"",title:"Управление заданиями",translateKey:"nav.tasks.menu",icon:"collapseMenu",type:Se,authority:[],subMenu:[{key:"createTaskItem",path:"/create-task",title:"Cоздать задание",translateKey:"nav.createTask",icon:"groupSingleMenu",type:Ce,authority:[],subMenu:[]}]}],Je=e=>{const{headerStart:t,headerEnd:n,headerMiddle:r,className:o,container:s,wrapperClass:i}=e;return a.jsx("header",{className:L("header",o),children:a.jsxs("div",{className:L("header-wrapper",s&&"container mx-auto",i),style:{height:te},children:[a.jsx("div",{className:"header-action header-action-start",children:t}),r&&a.jsx("div",{className:"header-action header-action-middle",children:r}),a.jsx("div",{className:"header-action header-action-end",children:n})]})})},Y=e=>{const t=n=>{const{className:r,hoverable:o=!0}=n;return a.jsx(e,{...n,className:F("header-action-item",o&&"header-action-item-hoverable",r)})};return t.displayName=`withHeaderItem(${e.displayName||e.name||"Component"})`,t},N={"2xl":"1536",xl:"1280",lg:"1024",md:"768",sm:"640",xs:"576"},w=(e="")=>parseInt(e.replace("px","")),Le={"2xl":w(N["2xl"]),xl:w(N.xl),lg:w(N.lg),md:w(N.md),sm:w(N.sm),xs:w(N.xs)},Qe=()=>{const e=(s="smaller")=>{const i=window.innerWidth;return Object.fromEntries(Object.entries(Le).map(([g,u])=>[g,s==="larger"?i>u:i<u]))},t=()=>({windowWidth:window.innerWidth,larger:e("larger"),smaller:e("smaller")}),[n,r]=l.useState(t()),o=()=>{const s=t();r(s)};return l.useEffect(()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[n.windowWidth]),n},De=({toggled:e,className:t})=>a.jsx("div",{className:t,children:e?a.jsx(ye,{}):a.jsx(Ne,{})}),ze=l.lazy(()=>se(()=>import("./index-BdeZtJMb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),He=Y(De),Xe=({translationSetup:e=oe.activeNavTranslation})=>{const[t,n]=l.useState(!1),r=()=>{n(!0)},o=()=>{n(!1)},s=ne(u=>u.direction),i=ae(u=>u.currentRouteKey),g=U(u=>u.user.authority);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-2xl",onClick:r,children:a.jsx(He,{toggled:t})}),a.jsx(ge,{title:"Navigation",isOpen:t,bodyClass:F("p-0"),width:330,placement:s===re?"right":"left",onClose:o,onRequestClose:o,children:a.jsx(l.Suspense,{fallback:a.jsx(a.Fragment,{}),children:t&&a.jsx(ze,{collapsed:!1,navigationTree:ke,routeKey:i,userAuthority:g,direction:s,translationSetup:e,onMenuItemClick:o})})})]})},We=[],Ke=()=>{const{avatar:e,email:t}=U(s=>s.user),{signOut:n}=ie(),r=()=>{n()},o={...e?{src:e}:{icon:a.jsx(je,{})}};return a.jsxs(P,{className:"flex",toggleClassName:"flex items-center",renderTitle:a.jsx("div",{className:"cursor-pointer flex items-center",children:a.jsx(D,{size:32,...o})}),placement:"bottom-end",children:[a.jsx(P.Item,{variant:"header",children:a.jsxs("div",{className:"py-2 px-3 flex items-center gap-3",children:[a.jsx(D,{...o}),a.jsx("div",{children:a.jsx("div",{className:"text-xs",children:t||"No email available"})})]})}),a.jsx(P.Item,{variant:"divider"}),We.map(s=>a.jsx(P.Item,{eventKey:s.label,className:"px-0",children:a.jsx(ce,{className:"flex h-full w-full px-2",to:s.path,children:a.jsxs("span",{className:"flex gap-2 items-center w-full",children:[a.jsx("span",{className:"text-xl",children:s.icon}),a.jsx("span",{children:s.label})]})})},s.label)),a.jsxs(P.Item,{eventKey:"Sign Out",className:"gap-2",onClick:r,children:[a.jsx("span",{className:"text-xl",children:a.jsx(xe,{})}),a.jsx("span",{children:"Sign Out"})]})]})},Ze=Y(Ke);export{qe as A,Je as H,Xe as M,Ce as N,Ze as U,Ye as a,Ve as b,ke as c,De as d,Se as e,Ge as f,$e as n,Qe as u,Y as w};
