import{j as t,a as k,r as I,ap as _}from"./index-DmENW6B2.js";import{M as j}from"./index-IEdz60AJ.js";import{$ as N,D as E}from"./index-CugqLUv5.js";import{n as K,A as p,b as C,a as V,N as w,e as F,f as D}from"./UserProfileDropdown-CpQqkJYy.js";const g=({icon:e})=>typeof e!="string"&&!e?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:K[e]&&t.jsx("span",{className:"text-2xl",children:K[e]})}),{MenuItem:P}=j,S=({nav:e,children:s,direction:i,renderAsIcon:a,onLinkClick:l,userAuthority:y,t:o,currentKey:c})=>t.jsx(p,{userAuthority:y,authority:e.authority,children:a?t.jsx(N,{title:o(e.translateKey,e.title),placement:i==="rtl"?"left":"right",children:s}):t.jsx(E.Item,{active:c===e.key,children:e.path?t.jsx(k,{className:"h-full w-full flex items-center outline-none",to:e.path,target:e.isExternalLink?"_blank":"",onClick:()=>l==null?void 0:l({key:e.key,title:e.title,path:e.path}),children:t.jsx("span",{children:o(e.translateKey,e.title)})}):t.jsx("span",{children:o(e.translateKey,e.title)})})}),M=e=>{const{nav:s,onLinkClick:i,showTitle:a,indent:l,showIcon:y=!0,userAuthority:o,t:c}=e;return t.jsx(p,{userAuthority:o,authority:s.authority,children:t.jsx(P,{eventKey:s.key,dotIndent:l,children:t.jsxs(k,{to:s.path,className:"flex items-center gap-2 h-full w-full",target:s.isExternalLink?"_blank":"",onClick:()=>i==null?void 0:i({key:s.key,title:s.title,path:s.path}),children:[y&&t.jsx(g,{icon:s.icon}),a&&t.jsx("span",{children:c(s.translateKey,s.title)})]})},s.key)})},$=({nav:e,onLinkClick:s,sideCollapsed:i,direction:a,indent:l,renderAsIcon:y,userAuthority:o,showIcon:c,showTitle:u,t:h,currentKey:m,parentKeys:r})=>t.jsx(t.Fragment,{children:i?t.jsx(S,{currentKey:m,parentKeys:r,nav:e,direction:a,renderAsIcon:y,userAuthority:o,t:h,onLinkClick:s,children:t.jsx(M,{nav:e,sideCollapsed:i,userAuthority:o,showIcon:c,showTitle:u,t:h,onLinkClick:s})}):t.jsx(M,{nav:e,sideCollapsed:i,userAuthority:o,showIcon:c,showTitle:u,indent:l,t:h,onLinkClick:s})}),{MenuItem:Y,MenuCollapse:L}=j,G=({nav:e,indent:s,dotIndent:i,children:a,userAuthority:l,t:y})=>t.jsx(p,{userAuthority:l,authority:e.authority,children:t.jsx(L,{label:t.jsxs(t.Fragment,{children:[t.jsx(g,{icon:e.icon}),t.jsx("span",{children:y(e.translateKey,e.title)})]}),eventKey:e.key,expanded:!1,dotIndent:i,indent:s,children:a},e.key)}),O=({nav:e,direction:s,children:i,t:a,renderAsIcon:l,userAuthority:y,parentKeys:o})=>{const c=t.jsx(Y,{isActive:o==null?void 0:o.includes(e.key),eventKey:e.key,className:"mb-2",children:t.jsx(g,{icon:e.icon})},e.key),u=t.jsx("div",{children:a(e.translateKey,e.title)},e.key);return t.jsx(p,{userAuthority:y,authority:e.authority,children:t.jsx(E,{trigger:"hover",renderTitle:l?c:u,placement:s==="rtl"?"left-start":"right-start",children:i})})},q=({sideCollapsed:e,...s})=>e?t.jsx(O,{...s}):t.jsx(G,{...s}),{MenuGroup:z}=j,U=e=>{const{collapsed:s,routeKey:i,navigationTree:a=[],onMenuItemClick:l,direction:y=_.direction,translationSetup:o,userAuthority:c}=e,{t:u}=C(!o),[h,m]=I.useState([]),{activedRoute:r}=V(a,i);I.useEffect(()=>{r!=null&&r.parentKey&&m([r==null?void 0:r.parentKey])},[r==null?void 0:r.parentKey]);const T=()=>{l==null||l()},f=(b,x=0,A)=>{const d=x+1;return t.jsx(t.Fragment,{children:b.map(n=>t.jsxs(I.Fragment,{children:[n.type===w&&t.jsx($,{currentKey:r==null?void 0:r.key,parentKeys:h,nav:n,sideCollapsed:s,direction:y,indent:A,renderAsIcon:x<=0,showIcon:x<=0,userAuthority:c,showTitle:s?x>=1:x<=1,t:u,onLinkClick:T},n.key),n.type===F&&t.jsx(q,{currentKey:r==null?void 0:r.key,parentKeys:h,nav:n,sideCollapsed:s,direction:y,indent:d>=2,dotIndent:d>=2,renderAsIcon:d<=1,userAuthority:c,t:u,onLinkClick:l,children:n.subMenu&&n.subMenu.length>0&&f(n.subMenu,d,!0)},n.key),n.type===D&&t.jsx(p,{userAuthority:c,authority:n.authority,children:t.jsx(z,{label:u(n.translateKey)||n.title,children:n.subMenu&&n.subMenu.length>0&&f(n.subMenu,x,!1)},n.key)})]},n.key))})};return t.jsx(j,{className:"px-4 pb-4",sideCollapsed:s,defaultActiveKeys:r!=null&&r.key?[r.key]:[],defaultExpandedKeys:h,defaultCollapseActiveKeys:r!=null&&r.parentKey?[r.parentKey]:[],children:f(a,0)})};export{U as V};
