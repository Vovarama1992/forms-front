import{r as w,j as e,E as P,d as k,u as C}from"./index-DmENW6B2.js";import{L as E}from"./Logo-CO_vnh_G.js";import{u as F,A as B,a as h}from"./useTimeOutMessage-5cSHfvVW.js";import{I as y,z as u,u as A,t as H,F as O,a as f,C as b,B as T}from"./index-BeOvlGq0.js";import{d as q,e as L}from"./CloseButton-DKk2w9LK.js";import"./StatusIcon-CJIZHJAy.js";const M=l=>{const{onVisibleChange:s,ref:o,...n}=l,[r,t]=w.useState("password"),i=c=>{c.preventDefault();const a=r==="password"?"text":"password";t(a),s==null||s(a==="text")};return e.jsx(y,{...n,ref:o,type:r,suffix:e.jsx("span",{className:"cursor-pointer select-none text-xl",role:"button",onClick:i,children:r==="password"?e.jsx(q,{}):e.jsx(L,{})})})},D=u.object({email:u.string({required_error:"Please enter your email"}).min(1,{message:"Please enter your email"}),password:u.string({required_error:"Please enter your password"}).min(1,{message:"Please enter your password"})}),V=l=>{var x,g,j;const[s,o]=w.useState(!1),{disableSubmit:n=!1,className:r,setMessage:t,passwordHint:i}=l,{handleSubmit:c,formState:{errors:a},control:p}=A({defaultValues:{email:"user@example.com",password:"securePassword123"},resolver:H(D)}),{signIn:N}=P(),v=async m=>{const{email:S,password:I}=m;if(!n){o(!0);const d=await N({email:S,password:I});(d==null?void 0:d.status)==="failed"&&(t==null||t(d.message))}o(!1)};return e.jsx("div",{className:r,children:e.jsxs(O,{onSubmit:c(v),children:[e.jsx(f,{label:"Email",invalid:!!a.email,errorMessage:(x=a.email)==null?void 0:x.message,children:e.jsx(b,{name:"email",control:p,render:({field:m})=>e.jsx(y,{type:"email",placeholder:"Email",autoComplete:"off",...m})})}),e.jsx(f,{label:"Password",invalid:!!a.password,errorMessage:(g=a.password)==null?void 0:g.message,className:k(i&&"mb-0",((j=a.password)==null?void 0:j.message)&&"mb-8"),children:e.jsx(b,{name:"password",control:p,rules:{required:!0},render:({field:m})=>e.jsx(M,{type:"text",placeholder:"Password",autoComplete:"off",...m})})}),i,e.jsx(T,{block:!0,loading:s,variant:"solid",type:"submit",children:s?"Signing in...":"Sign In"})]})})},W=({signUpUrl:l="/sign-up",forgetPasswordUrl:s="/forgot-password",disableSubmit:o})=>{const[n,r]=F(),t=C(i=>i.mode);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx(E,{type:"streamline",mode:t,imgClass:"mx-auto",logoWidth:60})}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"mb-2",children:"Welcome back!"}),e.jsx("p",{className:"font-semibold heading-text",children:"Please enter your credentials to sign in!"})]}),n&&e.jsx(B,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx("span",{className:"break-all",children:n})}),e.jsx(V,{disableSubmit:o,setMessage:r,passwordHint:e.jsx("div",{className:"mb-7 mt-2",children:e.jsx(h,{to:s,className:"font-semibold heading-text mt-2 underline",themeColor:!1,children:"Forgot password"})})}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 flex-1 mt-[1px]"}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 flex-1 mt-[1px]"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("span",{children:["Don't have an account yet?"," "]}),e.jsx(h,{to:l,className:"heading-text font-bold",themeColor:!1,children:"Sign up"})]})})]})},Q=()=>e.jsx(W,{});export{W as SignInBase,Q as default};
